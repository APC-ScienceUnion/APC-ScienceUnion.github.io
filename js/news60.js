document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelectorAll("[data-news60]");if(r.length===0)return;const t="https://60s-api.viki.moe/v2/60s?encoding=text";fetch(t).then(t=>{if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.text()}).then(t=>{const e=t.split("\n").filter(t=>t.trim()!=="");if(e.length===0){throw new Error("API返回空内容")}let n="";n+=`<h2>${e[0]}</h2>`;if(e.length>2){n+="<ol>";for(let t=1;t<e.length-1;t++){const o=e[t].replace(/^\d+\.\s*/,"");n+=`<li style="margin-bottom: 8px; position: relative; padding-left: 15px;">
              ${o}
            </li>`}n+="</ol>"}if(e.length>1){n+=`<div style="margin-top: 15px; font-style: italic;">${e[e.length-1]}</div>`}r.forEach(t=>{t.innerHTML=n})}).catch(e=>{r.forEach(t=>{t.innerHTML=`<div style="color: #d9534f; padding: 15px; background: #f8d7da; border-left: 4px solid #d9534f;">
            加载60秒新闻失败: ${e.message}
          </div>`})})});